<view class="admin-events-page">
  <!-- é¡¶éƒ¨æ“ä½œæ  -->
  <view class="toolbar">
    <picker mode="selector" range="{{statusOptions}}" range-key="label" value="{{statusIndex}}" bindchange="onFilterChange">
      <view class="filter-btn">
        <text>{{statusOptions[statusIndex].label}}</text>
        <text class="arrow">â–¼</text>
      </view>
    </picker>
    <button class="create-btn" bindtap="onCreateEvent">åˆ›å»ºèµ›äº‹</button>
  </view>

  <!-- å¾…å®¡æ ¸æ¯”åˆ†å…¥å£ -->
  <view class="pending-scores" bindtap="onViewPendingScores">
    <text class="pending-icon">ğŸ“‹</text>
    <text class="pending-text">å¾…å®¡æ ¸æ¯”åˆ†</text>
    <text class="pending-arrow">â€º</text>
  </view>

  <!-- èµ›äº‹åˆ—è¡¨ -->
  <view class="event-list">
    <view
      class="event-item"
      wx:for="{{events}}"
      wx:key="id"
      bindtap="onEditEvent"
      data-id="{{item.id}}"
    >
      <view class="event-header">
        <text class="event-title">{{item.title}}</text>
        <text class="event-status status-{{item.status}}">{{item.status_label}}</text>
      </view>
      <view class="event-info">
        <text class="info-item">{{item.type_label}} Â· {{item.format_label}}</text>
        <text class="info-item">æŠ¥åï¼š{{item.registration_count || 0}}äºº</text>
      </view>
      <view class="event-meta">
        <text>{{item.school_name || 'å…¨éƒ¨å­¦æ ¡'}}</text>
        <text>åˆ›å»ºè€…ï¼š{{item.creator_name}}</text>
      </view>
    </view>
  </view>

  <view class="loading" wx:if="{{isLoading}}">åŠ è½½ä¸­...</view>
  <view class="empty" wx:if="{{!isLoading && events.length === 0}}">æš‚æ— èµ›äº‹</view>
</view>
