<view class="admin-page" wx:if="{{isAdmin}}">
  <!-- å¤´éƒ¨ -->
  <view class="header">
    <text class="header-title">ç®¡ç†åå°</text>
    <view class="role-tags">
      <text class="role-tag" wx:for="{{roles}}" wx:key="code">{{item.name}}</text>
    </view>
  </view>

  <!-- ç»Ÿè®¡å¡ç‰‡ -->
  <view class="stats-section" wx:if="{{stats}}">
    <view class="stats-grid">
      <view class="stat-card">
        <text class="stat-num">{{stats.totalUsers}}</text>
        <text class="stat-label">æ€»ç”¨æˆ·</text>
      </view>
      <view class="stat-card">
        <text class="stat-num">{{stats.weekNewUsers}}</text>
        <text class="stat-label">æœ¬å‘¨æ–°å¢</text>
      </view>
      <view class="stat-card">
        <text class="stat-num">{{stats.totalEvents}}</text>
        <text class="stat-label">æ€»èµ›äº‹</text>
      </view>
      <view class="stat-card">
        <text class="stat-num">{{stats.ongoingEvents}}</text>
        <text class="stat-label">è¿›è¡Œä¸­</text>
      </view>
    </view>
  </view>

  <!-- åŠŸèƒ½èœå• -->
  <view class="menu-section">
    <text class="section-title">ç®¡ç†åŠŸèƒ½</text>
    <view class="menu-grid">
      <view
        class="menu-item"
        wx:for="{{menuItems}}"
        wx:key="id"
        bindtap="onTapMenu"
        data-url="{{item.url}}"
      >
        <view class="menu-icon">{{item.icon}}</view>
        <text class="menu-label">{{item.label}}</text>
      </view>
    </view>
  </view>
</view>

<view class="loading" wx:if="{{isLoading}}">åŠ è½½ä¸­...</view>
<view class="no-permission" wx:if="{{!isAdmin && !isLoading}}">
  <text class="no-permission-icon">ğŸ”’</text>
  <text class="no-permission-text">æ— ç®¡ç†æƒé™</text>
</view>
