<view class="invitations-page">
  <!-- å¾…å¤„ç† -->
  <view class="section" wx:if="{{pendingInvitations.length > 0}}">
    <text class="section-label">å¾…å¤„ç†</text>

    <view class="invitation-card" wx:for="{{pendingInvitations}}" wx:key="id">
      <view class="invitation-info">
        <view class="inviter-avatar">{{item.type === 'team' ? 'ğŸ‘¨' : 'ğŸ§‘'}}</view>
        <view class="invitation-content">
          <text class="invitation-title">{{item.inviter_name}} {{item.type === 'team' ? 'é‚€è¯·ä½ åŠ å…¥é˜Ÿä¼' : 'é‚€è¯·ä½ ç»„é˜ŸåŒæ‰“'}}</text>
          <text class="invitation-meta">{{item.event_name}} Â· {{item.type === 'team' ? 'å›¢ä½“èµ›' : 'åŒæ‰“'}}</text>
        </view>
      </view>
      <view class="invitation-actions">
        <button class="action-btn reject" catchtap="onReject" data-id="{{item.id}}">æ‹’ç»</button>
        <button class="action-btn accept" catchtap="onAccept" data-id="{{item.id}}">åŒæ„</button>
      </view>
    </view>
  </view>

  <!-- å·²å¤„ç† -->
  <view class="section" wx:if="{{processedInvitations.length > 0}}">
    <text class="section-label">å·²å¤„ç†</text>

    <view class="invitation-card processed" wx:for="{{processedInvitations}}" wx:key="id">
      <view class="invitation-info">
        <view class="inviter-avatar">ğŸ‘©</view>
        <view class="invitation-content">
          <text class="invitation-title">{{item.inviter_name}} {{item.type === 'team' ? 'é‚€è¯·ä½ åŠ å…¥é˜Ÿä¼' : 'é‚€è¯·ä½ ç»„é˜ŸåŒæ‰“'}}</text>
          <text class="invitation-meta">{{item.event_name}}</text>
        </view>
        <text class="invitation-status {{item.status}}">{{item.status === 'accepted' ? 'å·²åŒæ„' : 'å·²æ‹’ç»'}}</text>
      </view>
    </view>
  </view>

  <view class="loading" wx:if="{{isLoading}}">åŠ è½½ä¸­...</view>
  <view class="empty" wx:if="{{!isLoading && pendingInvitations.length === 0 && processedInvitations.length === 0}}">
    <text class="empty-icon">ğŸ“¨</text>
    <text class="empty-text">æš‚æ— é‚€è¯·</text>
  </view>
</view>
