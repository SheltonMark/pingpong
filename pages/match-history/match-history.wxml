<view class="match-history-page">
  <!-- èƒœç‡ç»Ÿè®¡ -->
  <view class="stats-card">
    <view class="stat-item">
      <text class="stat-num win">{{stats.wins}}</text>
      <text class="stat-label">èƒœ</text>
    </view>
    <view class="stat-item">
      <text class="stat-num lose">{{stats.losses}}</text>
      <text class="stat-label">è´Ÿ</text>
    </view>
    <view class="stat-item">
      <text class="stat-num rate">{{stats.win_rate}}%</text>
      <text class="stat-label">èƒœç‡</text>
    </view>
  </view>

  <!-- è®°å½•åˆ—è¡¨ -->
  <view class="records-card">
    <view class="card-header">
      <text class="card-title">æœ€è¿‘è®°å½•</text>
    </view>

    <scroll-view class="record-list" scroll-y bindscrolltolower="onLoadMore">
      <view class="record-item" wx:for="{{matches}}" wx:key="id">
        <view class="record-left">
          <view class="opponent-avatar">ğŸ§‘</view>
          <view class="opponent-info">
            <text class="opponent-name">vs {{item.opponent.name}}</text>
            <text class="match-meta">{{item.event_name || 'çº¦çƒ'}} Â· {{item.date_label}}</text>
          </view>
        </view>
        <view class="record-right">
          <text class="result {{item.is_win ? 'win' : 'lose'}}">{{item.is_win ? 'èƒœ' : 'è´Ÿ'}} {{item.score}}</text>
        </view>
      </view>

      <view class="loading" wx:if="{{isLoading}}">åŠ è½½ä¸­...</view>
      <view class="no-more" wx:if="{{noMore && matches.length > 0}}">æ²¡æœ‰æ›´å¤šäº†</view>
      <view class="empty" wx:if="{{!isLoading && matches.length === 0}}">
        <text>æš‚æ— äº¤æ‰‹è®°å½•</text>
      </view>
    </scroll-view>
  </view>
</view>
