<view class="my-events-page">
  <!-- Tabæ  -->
  <view class="tabs">
    <view
      wx:for="{{tabs}}"
      wx:key="key"
      class="tab {{currentTab === item.key ? 'active' : ''}}"
      bindtap="onSwitchTab"
      data-tab="{{item.key}}"
    >{{item.label}}</view>
  </view>

  <!-- èµ›äº‹åˆ—è¡¨ -->
  <view class="event-list">
    <view
      class="event-card"
      wx:for="{{events}}"
      wx:key="id"
      bindtap="onTapEvent"
      data-id="{{item.id}}"
    >
      <view class="event-top">
        <text class="event-status {{item.status}}">{{item.status === 'ongoing' ? 'è¿›è¡Œä¸­' : (item.status === 'registering' ? 'æŠ¥åä¸­' : 'å·²ç»“æŸ')}}</text>
        <text class="event-type">{{item.type_label}} Â· {{item.format}}</text>
      </view>
      <text class="event-name">{{item.name}}</text>

      <view class="event-stats" wx:if="{{item.my_wins !== undefined}}">
        <text class="stats-label">æˆ‘çš„æˆ˜ç»©</text>
        <text class="stats-value">{{item.my_wins}}èƒœ {{item.my_losses}}è´Ÿ</text>
      </view>

      <view class="event-bottom">
        <text class="event-date">{{item.date_label}}</text>
      </view>
    </view>

    <view class="loading" wx:if="{{isLoading}}">åŠ è½½ä¸­...</view>
    <view class="empty" wx:if="{{!isLoading && events.length === 0}}">
      <text class="empty-icon">ğŸ†</text>
      <text class="empty-text">æš‚æ— {{currentTab === 'ongoing' ? 'è¿›è¡Œä¸­çš„' : 'å·²ç»“æŸçš„'}}èµ›äº‹</text>
    </view>
  </view>
</view>
