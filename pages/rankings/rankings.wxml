<view class="rankings-page">
  <!-- Tabæ  -->
  <view class="tabs">
    <view
      wx:for="{{tabs}}"
      wx:key="key"
      class="tab {{currentTab === item.key ? 'active' : ''}}"
      bindtap="onSwitchTab"
      data-tab="{{item.key}}"
    >{{item.label}}</view>
  </view>

  <!-- æ’ååˆ—è¡¨ -->
  <scroll-view class="rank-list-scroll" scroll-y bindscrolltolower="onLoadMore">
    <view class="rank-card">
      <view
        class="rank-item"
        wx:for="{{rankings}}"
        wx:key="id"
        bindtap="onTapUser"
        data-id="{{item.id}}"
      >
        <view class="rank-badge {{item.badge_class}}">{{item.rank}}</view>
        <view class="rank-avatar">ğŸ§‘</view>
        <view class="rank-info">
          <text class="rank-name">{{item.name}}</text>
          <text class="rank-dept">{{item.school_short_name || item.school_name}} Â· {{item.college_name}}</text>
        </view>
        <view class="rank-score">
          <text class="rank-score-num">{{item.points}}</text>
          <text class="rank-score-label">ç§¯åˆ†</text>
        </view>
      </view>
    </view>

    <view class="loading" wx:if="{{isLoading}}">åŠ è½½ä¸­...</view>
    <view class="no-more" wx:if="{{noMore && rankings.length > 0}}">æ²¡æœ‰æ›´å¤šäº†</view>
    <view class="empty" wx:if="{{!isLoading && rankings.length === 0}}">
      <text>æš‚æ— æ’åæ•°æ®</text>
    </view>
  </scroll-view>
</view>
