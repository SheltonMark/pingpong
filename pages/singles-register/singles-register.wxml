<view class="register-page" wx:if="{{event}}">
  <!-- èµ›äº‹ä¿¡æ¯ -->
  <view class="event-card">
    <view class="event-tags">
      <text class="event-status">{{event.status === 'registering' ? 'æŠ¥åä¸­' : event.status}}</text>
      <text class="event-type">å•æ‰“ Â· {{event.format}}</text>
    </view>
    <text class="event-name">{{event.name}}</text>

    <view class="event-details">
      <view class="detail-item">
        <text class="detail-icon">ğŸ“…</text>
        <text class="detail-text">{{event.date_label}} å¼€å§‹</text>
      </view>
      <view class="detail-item">
        <text class="detail-icon">ğŸ“</text>
        <text class="detail-text">{{event.location}}</text>
      </view>
      <view class="detail-item">
        <text class="detail-icon">ğŸ“</text>
        <text class="detail-text">{{event.format}}</text>
      </view>
      <view class="detail-item" wx:if="{{event.is_ranked}}">
        <text class="detail-icon">â­</text>
        <text class="detail-text highlight">è®¡å…¥ç§¯åˆ†</text>
      </view>
    </view>
  </view>

  <!-- æŠ¥åä¿¡æ¯ç¡®è®¤ -->
  <view class="info-card" wx:if="{{user}}">
    <view class="card-header">
      <text class="card-title">æŠ¥åä¿¡æ¯ç¡®è®¤</text>
    </view>
    <view class="user-info">
      <view class="user-avatar">ğŸ˜</view>
      <view class="user-details">
        <text class="user-name">{{user.name}}</text>
        <text class="user-dept">{{user.college_name}} Â· {{user.user_type === 'student' ? 'åœ¨æ ¡ç”Ÿ' : user.user_type}}</text>
      </view>
      <view class="user-points">
        <text class="points-num">{{user.points || 0}}</text>
        <text class="points-label">å½“å‰ç§¯åˆ†</text>
      </view>
    </view>
  </view>

  <!-- å·²æŠ¥åé€‰æ‰‹ -->
  <view class="info-card">
    <view class="card-header">
      <text class="card-title">å·²æŠ¥åé€‰æ‰‹</text>
      <text class="card-count">{{registeredUsers.length}}äºº</text>
    </view>
    <view class="registered-list">
      <view class="registered-user" wx:for="{{registeredUsers}}" wx:key="id" wx:if="{{index < 3}}">
        <view class="small-avatar">ğŸ§‘</view>
        <text class="small-name">{{item.name}}</text>
      </view>
      <view class="registered-more" wx:if="{{registeredUsers.length > 3}}">
        <text>+{{registeredUsers.length - 3}}äºº</text>
      </view>
    </view>
  </view>

  <!-- æŠ¥åé¡»çŸ¥ -->
  <view class="notice-box">
    <text class="notice-title">æŠ¥åé¡»çŸ¥</text>
    <view class="notice-list">
      <text class="notice-item">â€¢ æŠ¥ååè¯·å‡†æ—¶å‚èµ›ï¼Œæ— æ•…å¼ƒèµ›å°†å½±å“ä¿¡èª‰</text>
      <text class="notice-item">â€¢ æ¯”èµ›æœŸé—´è¯·è‡ªå¤‡çƒæ‹ï¼Œåœºé¦†æä¾›æ¯”èµ›ç”¨çƒ</text>
      <text class="notice-item">â€¢ æœ¬èµ›äº‹æˆç»©å°†è®¡å…¥ä¸ªäººç§¯åˆ†æ’è¡Œ</text>
    </view>
  </view>

  <button class="submit-btn" bindtap="onSubmit" disabled="{{isSubmitting}}">
    {{isSubmitting ? 'æäº¤ä¸­...' : 'ç¡®è®¤æŠ¥å'}}
  </button>
</view>

<view class="loading" wx:if="{{isLoading}}">åŠ è½½ä¸­...</view>
